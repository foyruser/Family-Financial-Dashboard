{% extends "base.html" %}
{% block title %}Edit Expense{% endblock %}
{% block header_title %}Edit Expense{% endblock %}
{% block header_subtitle %}Update this transaction.{% endblock %}

{% block content %}
<div class="bg-white p-6 sm:p-10 rounded-xl shadow-2xl max-w-lg mx-auto">
  {% set form_input_class = "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-shadow" %}
  <form method="POST" class="space-y-6">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
      <input type="text" name="description" required class="{{ form_input_class }}" value="{{ expense.description }}">
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Amount</label>
      <input type="number" step="0.01" name="amount" required class="{{ form_input_class }}" value="{{ expense.amount }}">
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Category</label>
      <select name="category" required class="{{ form_input_class }}">
        {% for cat in categories %}
        <option value="{{ cat }}" {% if cat == expense.category %}selected{% endif %}>{{ cat }}</option>
        {% endfor %}
      </select>
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Currency</label>
      <select name="currency" required class="{{ form_input_class }}">
        {% for cur in currencies %}
        <option value="{{ cur }}" {% if cur == expense.currency %}selected{% endif %}>{{ cur }}</option>
        {% endfor %}
      </select>
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Date</label>
      <input type="date" name="expense_date" required class="{{ form_input_class }}" value="{{ expense.expense_date }}">
    </div>

    <div class="flex justify-between pt-4">
      <a href="{{ url_for('expenses') }}" class="px-6 py-2 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300">‚Üê Back</a>
      <button type="submit" class="px-8 py-3 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700">Save</button>
    </div>
  </form>
</div>
{% endblock %}
