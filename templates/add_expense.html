{% extends "base.html" %}
{% block title %}Record New Expense{% endblock %}
{% block header_title %}Record New Expense{% endblock %}
{% block header_subtitle %}Log a new family transaction or bill.{% endblock %}

{% block content %}
<div class="bg-white p-6 sm:p-10 rounded-xl shadow-2xl max-w-lg mx-auto">
  {% set form_input_class = "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-shadow" %}

  <form method="POST" class="space-y-6">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div class="grid grid-cols-1 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
        <input type="text" name="description" required class="{{ form_input_class }}" placeholder="e.g., Grocery trip at Whole Foods">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Amount</label>
        <input type="number" step="0.01" name="amount" required class="{{ form_input_class }}" placeholder="e.g., 55.75">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Category</label>
        <select name="category" required class="{{ form_input_class }}">
          <option value="" disabled selected>Select Category</option>
          {% for cat in categories %}
          <option value="{{ cat }}">{{ cat }}</option>
          {% endfor %}
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Currency</label>
        <select name="currency" required class="{{ form_input_class }}">
          <option value="" disabled selected>Select Currency</option>
          {% for cur in currencies %}
          <option value="{{ cur }}">{{ cur }}</option>
          {% endfor %}
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Date</label>
        <input type="date" name="expense_date" required class="{{ form_input_class }}">
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Notes (Optional)</label>
      <textarea name="notes" rows="3" class="{{ form_input_class }}" placeholder="Details about the transaction, who paid, etc."></textarea>
    </div>

    <div class="flex justify-between pt-4">
      <a href="{{ url_for('expenses') }}" class="px-6 py-2 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300">‚Üê Back to Expenses</a>
      <button type="submit" class="px-8 py-3 bg-red-600 text-white font-bold rounded-lg hover:bg-red-700">Add Expense</button>
    </div>
  </form>
</div>
{% endblock %}
