{% extends "base.html" %}

{% block title %}Dashboard - Financial Overview{% endblock %}
{% block header_title %}Family Financial Dashboard{% endblock %}
{% block header_subtitle %}Your consolidated financial status at a glance. Family Group: {{ current_user.group_id }}{% endblock %}

{% block content %}
<div class="space-y-8">
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        
        <div class="bg-white p-6 rounded-xl shadow-2xl border-t-4 border-blue-600 transition-shadow hover:shadow-xl">
            <div class="flex items-center justify-between mb-2">
                <p class="text-lg font-bold text-gray-800">Total Assets</p>
                <a href="{{ url_for('index') }}" class="text-sm font-medium text-blue-500 hover:text-blue-700">View All →</a>
            </div>
            <hr class="mb-4 border-blue-100">
            <div class="space-y-4">
                <div>
                    <p class="text-sm font-medium text-gray-500">USD Value</p>
                    <p class="text-4xl font-extrabold text-blue-600">${{ "{:,.2f}".format(total_asset_usd) }}</p>
                </div>
                {% if total_asset_inr %}
                <div>
                    <p class="text-sm font-medium text-gray-500">INR Value (Est.)</p>
                    <p class="text-xl font-bold text-blue-800">₹{{ "{:,.2f}".format(total_asset_inr) }}</p>
                </div>
                {% endif %}
            </div>
        </div>

        <div class="bg-white p-6 rounded-xl shadow-2xl border-t-4 border-red-600 transition-shadow hover:shadow-xl">
            <div class="flex items-center justify-between mb-2">
                <p class="text-lg font-bold text-gray-800">Total Expenses</p>
                <a href="{{ url_for('expenses') }}" class="text-sm font-medium text-red-500 hover:text-red-700">View All →</a>
            </div>
            <hr class="mb-4 border-red-100">
            <div class="space-y-4">
                <div>
                    <p class="text-sm font-medium text-gray-500">USD Value</p>
                    <p class="text-4xl font-extrabold text-red-600">${{ "{:,.2f}".format(total_expense_usd) }}</p>
                </div>
                {% if total_expense_inr %}
                <div>
                    <p class="text-sm font-medium text-gray-500">INR Value (Est.)</p>
                    <p class="text-xl font-bold text-red-800">₹{{ "{:,.2f}".format(total_expense_inr) }}</p>
                </div>
                {% endif %}
            </div>
        </div>

        <div class="bg-white p-6 rounded-xl shadow-2xl border-t-4 border-green-600 transition-shadow hover:shadow-xl">
            <p class="text-lg font-bold text-gray-800 mb-2">Net Worth</p>
            <hr class="mb-4 border-green-100">
            <div class="space-y-4">
                <div>
                    <p class="text-sm font-medium text-gray-500">USD Value</p>
                    <p class="text-4xl font-extrabold text-green-600">${{ "{:,.2f}".format(net_usd) }}</p>
                </div>
                {% if net_inr %}
                <div>
                    <p class="text-sm font-medium text-gray-500">INR Value (Est.)</p>
                    <p class="text-xl font-bold text-green-800">₹{{ "{:,.2f}".format(net_inr) }}</p>
                </div>
                {% endif %}
            </div>
        </div>
        
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 pt-4">
        
        <div class="bg-white p-6 rounded-xl shadow-xl">
            <h3 class="text-xl font-bold text-gray-800 mb-4">Last 5 Expenses</h3>
            <div class="text-gray-500 text-sm italic">
                <p>Implement logic here to fetch and display a small, recent list of transactions.</p>
                <a href="{{ url_for('expenses') }}" class="text-red-600 hover:underline mt-2 inline-block">Go to full Expense History</a>
            </div>
        </div>
        
        <div class="bg-white p-6 rounded-xl shadow-xl">
            <h3 class="text-xl font-bold text-gray-800 mb-4">Asset Type Breakdown</h3>
             <div class="text-gray-500 text-sm italic">
                <p>Implement logic here to show a simple list or chart (e.g., using Chart.js) of assets by type (e.g., 60% Investments, 40% Real Estate).</p>
                <a href="{{ url_for('index') }}" class="text-blue-600 hover:underline mt-2 inline-block">Go to full Asset List</a>
            </div>
        </div>
        
    </div>

</div>
{% endblock %}
